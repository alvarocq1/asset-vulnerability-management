# Asset Vulnerability Management

Asset Vulnerability Management es una herramienta para escanear y analizar la vulnerabilidad de activos en una red. Utiliza herramientas como Nmap, OpenVAS y Metasploit, y muestra resultados detallados y análisis de correlación a través de una interfaz web.

## Características

- Escaneo de activos con Nmap.
- Análisis de vulnerabilidades con OpenVAS.
- Integración con Metasploit para determinar la explotabilidad.
- Análisis de correlación entre CVSS y riesgo.
- Interfaz web para visualizar resultados y análisis.

## Requisitos

- Python 3.8+
- PostgreSQL
- Nmap
- OpenVAS
- Metasploit

## Instalación

### 1. Clonar el Repositorio

```bash
git clone https://github.com/alvarocq1/asset-vulnerability-management.git
cd asset-vulnerability-management
```

### 2. Script de Instalación

```bash
./install.sh
```

El script install.sh incluye:
- Crear y activar el entorno virtual.
- Instalar dependencias de Python.
- Detectar el sistema operativo (Linux o macOS).
- Instalar Nmap, PostgreSQL y Metasploit.
- Configurar e inicializar la base de datos.

### 3. Instalación de OpenVas

OpenVas solo esta disponible para las distribuciones Linux:
- Fedora
- Ubuntu
- CentOS
- Debian

Para una instalación segura seguir las indicaciones de [OpenVasInstallationFromSource](https://greenbone.github.io/docs/latest/22.4/source-build/index.html)

Una vez instalado si quiere usar OpenVas con conexion TLS desde otro sistema, deberá cambiar los archivos gsad.config y gvmd.config.

Si va a usar OpenVas como local, tendrá que sustituir la conexión TLS por un SocketUnix.

### 3. Archivo .env

En la raíz del proyecto crea un archivo .env  con el siguiente contenido:
```plaintext
DB_NAME=*****
DB_USER=*****
DB_PASSWORD=*****
DB_HOST=*****
DB_PORT=*****

OPENVAS_HOST=*****
OPENVAS_PORT=*****
OPENVAS_USER=*****
OPENVAS_PASSWORD=*****

NVD_API_KEY=***** 
NVD_API_URL=*****
```

Lo de NVD es opcional.

### 4.Comprobar conexiones

Para comprobar que la base de datos, OpenVas , Nmap y Metasploit framework están en correcto funcionamiento,
ejecute el siguiente script:

```bash
./src/utils/check_connections.py
```

### 5.Iniciar herramienta

Para iniciar la herramienta, ejecute:

```bash
python3 app.py
```
Y vaya a la dirección que se le indica por terminal, en mi caso http://127.0.0.1:5000


